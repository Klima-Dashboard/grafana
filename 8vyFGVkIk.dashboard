{"meta": {"type": "db", "canSave": true, "canEdit": true, "canAdmin": true, "canStar": true, "canDelete": true, "slug": "geomap-sensoren", "url": "/d/8vyFGVkIk/geomap-sensoren", "expires": "0001-01-01T00:00:00Z", "created": "2023-08-30T14:03:35Z", "updated": "2023-09-06T16:50:14Z", "updatedBy": "dk+klimadashboard@tpwd.de", "createdBy": "dk+klimadashboard@tpwd.de", "version": 53, "hasAcl": false, "isFolder": false, "folderId": 84, "folderUid": "AuGs843Vk", "folderTitle": "ttn", "folderUrl": "/dashboards/f/AuGs843Vk/ttn", "provisioned": false, "provisionedExternalId": "", "annotationsPermissions": {"dashboard": {"canAdd": true, "canEdit": true, "canDelete": true}, "organization": {"canAdd": true, "canEdit": true, "canDelete": true}}, "publicDashboardAccessToken": "", "publicDashboardUid": "", "publicDashboardEnabled": false}, "dashboard": {"annotations": {"list": [{"builtIn": 1, "datasource": {"type": "grafana", "uid": "-- Grafana --"}, "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "editable": true, "fiscalYearStartMonth": 0, "graphTooltip": 0, "id": 87, "links": [], "liveNow": false, "panels": [{"datasource": {"type": "influxdb", "uid": "HWTSokF4z"}, "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "custom": {"hideFrom": {"legend": false, "tooltip": false, "viz": false}}, "links": [], "mappings": [{"options": {"from": 0, "result": {"color": "blue", "index": 0}, "to": 9.9999}, "type": "range"}, {"options": {"from": 10, "result": {"color": "green", "index": 1}, "to": 19.9999}, "type": "range"}, {"options": {"from": 20, "result": {"color": "yellow", "index": 2}, "to": 29.9999}, "type": "range"}, {"options": {"from": 30, "result": {"color": "orange", "index": 3}, "to": 39.9999}, "type": "range"}, {"options": {"from": 40, "result": {"color": "red", "index": 4}, "to": 49.9999}, "type": "range"}, {"options": {"from": 50, "result": {"color": "purple", "index": 5}, "to": 50.9999}, "type": "range"}], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "none"}, "overrides": [{"matcher": {"id": "byName", "options": "device_id"}, "properties": [{"id": "displayName", "value": "TTN-Sensor"}, {"id": "links", "value": [{"targetBlank": true, "title": "Details", "url": "https://grafana.bad-belzig.klima-daten.de/d/bKSFqNkIz/sensordaten?var-device_id=${__value.raw}"}]}]}, {"matcher": {"id": "byName", "options": "latitude"}, "properties": [{"id": "displayName", "value": "Latitude"}, {"id": "decimals", "value": 13}]}, {"matcher": {"id": "byName", "options": "longitude"}, "properties": [{"id": "displayName", "value": "Longitude"}, {"id": "decimals", "value": 13}]}, {"matcher": {"id": "byName", "options": "application_id"}, "properties": [{"id": "displayName", "value": "TTN-Application"}]}, {"matcher": {"id": "byName", "options": "_measurement"}, "properties": [{"id": "displayName", "value": "Gebiet"}]}]}, "gridPos": {"h": 20, "w": 24, "x": 0, "y": 0}, "id": 2, "options": {"basemap": {"config": {}, "name": "Layer 0", "opacity": 1, "tooltip": false, "type": "osm-standard"}, "controls": {"mouseWheelZoom": true, "showAttribution": true, "showDebug": false, "showMeasure": false, "showScale": true, "showZoom": true}, "layers": [{"config": {"showLegend": false, "style": {"color": {"field": "Wert", "fixed": "dark-green"}, "opacity": 0.4, "rotation": {"fixed": 0, "max": 360, "min": -360, "mode": "mod"}, "size": {"fixed": 15, "max": 15, "min": 2}, "symbol": {"fixed": "img/icons/marker/circle.svg", "mode": "fixed"}, "text": {"fixed": "", "mode": "field"}, "textConfig": {"fontSize": 12, "offsetX": 0, "offsetY": 0, "textAlign": "center", "textBaseline": "bottom"}}}, "location": {"latitude": "latitude", "longitude": "longitude", "mode": "coords"}, "name": "Infos", "tooltip": true, "type": "markers"}], "tooltip": {"mode": "details"}, "view": {"allLayers": true, "id": "coords", "lat": 52.181906, "lon": 12.554116, "shared": true, "zoom": 11.11}}, "pluginVersion": "9.2.17", "targets": [{"datasource": {"type": "influxdb", "uid": "HWTSokF4z"}, "query": "from(bucket: \"ttn-test\")\n  |> range(start: 2023-08-31T00:00:00Z)\n  |> filter(fn: (r) => r._field == \"longitude\" or r._field == \"latitude\" or r._field == \"application_id\" or r._field == \"${type}\")\n  |> filter(fn: (r) => r.device_id == \"${device_id}\" or \"${device_id}\" == \"Alle\")\n  |> filter(fn: (r) => r._measurement == \"${measurement}\" or \"${measurement}\" == \"Alle\")\n  |> last()\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group()  \n  |> drop(columns: [\"_start\", \"_stop\", \"_time\"])", "refId": "A"}], "title": "${type} - ${measurement} - ${device_id}", "transformations": [{"id": "organize", "options": {"excludeByName": {"latitude": false}, "indexByName": {"Batterie": 5, "_measurement": 0, "application_id": 2, "device_id": 1, "latitude": 3, "longitude": 4}, "renameByName": {}}}, {"id": "renameByRegex", "options": {"regex": "^(?!(_measurement|device_id|application_id|latitude|longitude)$).*", "renamePattern": "Wert"}}], "type": "geomap"}], "schemaVersion": 37, "style": "dark", "tags": [], "templating": {"list": [{"allValue": "Alle", "current": {"selected": true, "text": "Bodenfeuchte 10cm", "value": "Bodenfeuchte 10cm"}, "datasource": {"type": "influxdb", "uid": "HWTSokF4z"}, "definition": "from(bucket: \"ttn-test\")\n  |> range(start: 2023-08-31T00:00:00Z)\n  |> filter(fn: (r) => r._field == \"Bodenfeuchte 10cm\" or r._field == \"Bodenfeuchte 30cm\" or r._field == \"Bodenfeuchte 60cm\" or r._field == \"Bodenfeuchte 99cm\" or r._field == \"Bodentemperatur 10cm\" or r._field == \"Bodentemperatur 30cm\" or r._field == \"Bodentemperatur 60cm\" or r._field == \"Bodentemperatur 99cm\" or r._field == \"Batterie\")\n  |> last()\n  |> group()", "hide": 0, "includeAll": false, "label": "Typ", "multi": false, "name": "type", "options": [], "query": "from(bucket: \"ttn-test\")\n  |> range(start: 2023-08-31T00:00:00Z)\n  |> filter(fn: (r) => r._field == \"Bodenfeuchte 10cm\" or r._field == \"Bodenfeuchte 30cm\" or r._field == \"Bodenfeuchte 60cm\" or r._field == \"Bodenfeuchte 99cm\" or r._field == \"Bodentemperatur 10cm\" or r._field == \"Bodentemperatur 30cm\" or r._field == \"Bodentemperatur 60cm\" or r._field == \"Bodentemperatur 99cm\" or r._field == \"Batterie\")\n  |> last()\n  |> group()", "refresh": 1, "regex": "", "skipUrlSync": false, "sort": 1, "type": "query"}, {"allValue": "Alle", "current": {"selected": true, "text": "All", "value": "$__all"}, "datasource": {"type": "influxdb", "uid": "HWTSokF4z"}, "definition": "from(bucket: \"ttn-test\")\n  |> range(start: 2023-08-31T00:00:00Z)\n  |> filter(fn: (r) => r._field == \"measurement\" or r._field == \"application_id\")\n  |> last()\n  |> group()", "hide": 0, "includeAll": true, "label": "Gebiet", "multi": false, "name": "measurement", "options": [], "query": "from(bucket: \"ttn-test\")\n  |> range(start: 2023-08-31T00:00:00Z)\n  |> filter(fn: (r) => r._field == \"measurement\" or r._field == \"application_id\")\n  |> last()\n  |> group()", "refresh": 1, "regex": "", "skipUrlSync": false, "sort": 1, "type": "query"}, {"allValue": "Alle", "current": {"selected": true, "text": "All", "value": "$__all"}, "datasource": {"type": "influxdb", "uid": "HWTSokF4z"}, "definition": "from(bucket: \"ttn-test\")\n  |> range(start: 2023-08-31T00:00:00Z)\n  |> filter(fn: (r) => r._field == \"device_id\")\n  |> last()\n  |> group()", "hide": 0, "includeAll": true, "label": "TTN-Sensor", "multi": false, "name": "device_id", "options": [], "query": "from(bucket: \"ttn-test\")\n  |> range(start: 2023-08-31T00:00:00Z)\n  |> filter(fn: (r) => r._field == \"device_id\")\n  |> last()\n  |> group()", "refresh": 1, "regex": "", "skipUrlSync": false, "sort": 1, "type": "query"}]}, "time": {"from": "now/y", "to": "now/y"}, "timepicker": {}, "timezone": "", "title": "Geomap Sensoren", "uid": "8vyFGVkIk", "version": 53, "weekStart": ""}}